<h2><%= @show.movie.title %> at <%= @show.theatre.name %></h2>
<p><strong>Show Time:</strong> <%= @show.start_time.strftime("%d %b %Y, %I:%M %p") %></p>
<p><strong>Ticket Price:</strong> â‚¹<%= @show.ticket_price %></p>

<!-- Flash messages -->
<% if flash[:notice] %>
  <div class="alert alert-success" role="alert">
    <%= flash[:notice] %>
  </div>
<% end %>

<% if flash[:alert] %>
  <div class="alert alert-danger" role="alert">
    <%= flash[:alert] %>
  </div>
<% end %>

<table class="table table-bordered table-striped">
  <thead class="table-dark">
    <tr>
      <th>Seat Number</th>
      <th>Status</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <% @seats.each do |seat| %>
      <tr>
        <td><%= seat.seat_number %></td>
        <td>
          <% if seat.booked? %>
            <span class="badge bg-danger">Booked</span>
          <% else %>
            <span class="badge bg-success">Available</span>
          <% end %>
        </td>
        <td>
          <% if seat.available? %>
            <%= button_to "Book", 
                          book_show_seat_path(@show, seat), 
                          method: :post, 
                          data: { confirm: "Confirm booking for Seat #{seat.seat_number}?" }, 
                          class: "btn btn-sm btn-primary" %>
          <% else %>
            <button class="btn btn-sm btn-secondary" disabled>Booked</button>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
